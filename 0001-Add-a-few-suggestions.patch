From 91a703692e4e4bb2f24baf372b3e76b5082b34d0 Mon Sep 17 00:00:00 2001
From: Patrick Andrade <patrick.andrade.a-ext@ab-inbev.com>
Date: Thu, 4 May 2023 11:41:09 -0300
Subject: [PATCH] Add a few suggestions

---
 js/index.js    | 92 ------------------------------------------------
 src/index.html | 94 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 94 insertions(+), 92 deletions(-)

diff --git a/js/index.js b/js/index.js
index fc266ba..e69de29 100644
--- a/js/index.js
+++ b/js/index.js
@@ -1,92 +0,0 @@
-var tasksDiv = document.getElementById("tasksDiv");
-var urlBase = "http://localhost:8080/tasks"
-
-function listarTarefas() {
-  $.ajax({
-    url: "http://localhost:8080/tasks",
-    type: "get",
-    dataType: "json",
-    success: function (data) {
-      console.log(data);
-      for (var i in data) {
-        var ul = document.createElement("ul");
-        var li = document.createElement("li");
-        var pDescription = document.createElement("p");
-        var pDeadline = document.createElement("p");
-        li.innerHTML = JSON.stringify(data[i].title);
-        li.id = data[i].id;
-        pDescription.innerHTML = JSON.stringify(data[i].description);
-        pDeadline.innerHTML = JSON.stringify(data[i].deadline);        
-        ul.appendChild(li);
-        ul.appendChild(pDescription);
-        ul.appendChild(pDeadline);
-        tasksDiv.appendChild(ul);
-      }
-      console.log(data);
-    },
-  });
-}
-
-function criarTarefa(){
-  var form = $("#Idform").serializeArray();
-  var obj = {"id":form[0].value, "title": form[1].value, "description": form[2].value , "deadline": form[3].value}
-  var objJson= JSON.stringify(obj);
-  $.ajax({
-      async: true,
-      type: "POST",
-      url: urlBase + "/task/create",
-      contentType: "application/json",
-      data: objJson,
-      success: function(data)
-      {
-        console.log(data);
-        window.location.reload();
-      },
-      error: function(err)
-      {
-        console.log(err);
-      }
-  });
-};
-
-
-function atualizarTarefa() {
-  var form = $("#Idform").serializeArray();
-  var obj = {"id": form[0].value, "title": form[1].value, "description": form[2].value , "deadline": form[3].value}
-  var objJson= JSON.stringify(obj);
-  $.ajax({
-      async: true,
-      type: "PUT",
-      url: urlBase + "/update/" + ,
-      contentType: "application/json",
-      data: objJson,
-      success: function(data)
-      {
-        console.log(data);
-        window.location.reload();
-      },
-      error: function(err)
-      {
-        console.log(err);
-      }
-  });
-}
-
-function deletarTarefa() {
- 
-  $.ajax({
-    async: true,
-    type: "DELETE",
-    url:  urlBase + "/delete/"+ id,   
-    contentType: "application/json",
-    data: obj,
-    success: function()
-    {
-      window.location.reload();
-    },
-    error: function(err)
-    {
-      console.log(err);
-    }
-});
-}
\ No newline at end of file
diff --git a/src/index.html b/src/index.html
index 28af404..8a67c16 100644
--- a/src/index.html
+++ b/src/index.html
@@ -38,5 +38,99 @@
 
     </div>
 </body>
+<script>
+var tasksDiv = document.getElementById("tasksDiv");
+var urlBase = "http://localhost:8080/tasks"
+
+function listarTarefas() {
+  $.ajax({
+    url: "http://localhost:8080/tasks",
+    type: "get",
+    dataType: "json",
+    success: function (data) {
+      console.log(data);
+      for (var i in data) {
+        var ul = document.createElement("ul");
+        var li = document.createElement("li");
+        var pDescription = document.createElement("p");
+        var pDeadline = document.createElement("p");
+        li.innerHTML = JSON.stringify(data[i].title);
+        li.id = data[i].id;
+        pDescription.innerHTML = JSON.stringify(data[i].description);
+        pDeadline.innerHTML = JSON.stringify(data[i].deadline);        
+        ul.appendChild(li);
+        ul.appendChild(pDescription);
+        ul.appendChild(pDeadline);
+        tasksDiv.appendChild(ul);
+      }
+      console.log(data);
+    },
+  });
+}
+
+function criarTarefa(){
+  let form = $("#Idform").serializeArray();
+  let obj = {"title": form[0].value, "description": form[1].value , "deadline": form[2].value}
+  const objJson= JSON.stringify(obj);
+  $.ajax({
+      async: true,
+      type: "POST",
+      url: urlBase + "/task/create",
+      contentType: "application/json",
+      data: objJson,
+      success: function(data)
+      {
+        console.log(data);
+        window.location.reload();
+      },
+      error: function(err)
+      {
+        console.log(err);
+      }
+  });
+};
+
+
+function atualizarTarefa() {
+  var form = $("#Idform").serializeArray();
+  var obj = {"id": form[0].value, "title": form[1].value, "description": form[2].value , "deadline": form[3].value}
+  var objJson= JSON.stringify(obj);
+  $.ajax({
+      async: true,
+      type: "PUT",
+      url: urlBase + "/update/" + obj.id,
+      contentType: "application/json",
+      data: objJson,
+      success: function(data)
+      {
+        console.log(data);
+        window.location.reload();
+      },
+      error: function(err)
+      {
+        console.log(err);
+      }
+  });
+}
+
+function deletarTarefa() {
+ 
+  $.ajax({
+    async: true,
+    type: "DELETE",
+    url:  urlBase + "/delete/"+ id,   
+    contentType: "application/json",
+    data: obj,
+    success: function()
+    {
+      window.location.reload();
+    },
+    error: function(err)
+    {
+      console.log(err);
+    }
+});
+}
+</script>
 
 </html>
\ No newline at end of file
-- 
2.39.2 (Apple Git-143)

